<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hourly expees</title>
    <link rel="shortcut icon" href="../static/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.1.3/darkly/bootstrap.min.css">
    <link rel="stylesheet" href="css/datatables.min.css">
    <link rel="stylesheet" href="css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="css/colReorder.bootstrap5.min.css">
    <link rel="stylesheet" href="css/fixedHeader.bootstrap5.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/jquery-3.7.0.min.js"></script>
    <script src="js/datatables.min.js"></script>
    <script src="js/dataTables.colReorder.min.js"></script>
    <script src="js/dataTables.fixedHeader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="js/script.js"></script>
</head>
<body>
    <nav>
        <button data-tab="milking" class="btn btn-primary">Milking</button>
        <button data-tab="foraging" class="btn btn-primary">Foraging</button>
        <button data-tab="woodcutting" class="btn btn-primary">Woodcutting</button>
        <button data-tab="cheesesmithing" class="btn btn-primary">Cheesesmithing</button>
        <button data-tab="crafting" class="btn btn-primary">Crafting</button>
        <button data-tab="tailoring" class="btn btn-primary">Tailoring</button>
        <button data-tab="cooking" class="btn btn-primary">Cooking</button>
        <button data-tab="brewing" class="btn btn-primary">Brewing</button>
        <button data-tab="enhancing" class="btn btn-primary">Enhancing</button>
        <button data-tab="stamina" class="btn btn-primary">Stamina</button>
        <button data-tab="intelligence" class="btn btn-primary">Intelligence</button>
        <button data-tab="attack" class="btn btn-primary">Attack</button>
        <button data-tab="power" class="btn btn-primary">Power</button>
        <button data-tab="defense" class="btn btn-primary">Defense</button>
        <button data-tab="ranged" class="btn btn-primary">Ranged</button>
        <button data-tab="magic" class="btn btn-primary">Magic</button>
        <button data-tab="guild" class="btn btn-primary">Guild</button>
        <button data-tab="combat" class="btn btn-primary">Combat</button>
        <button data-tab="taskPoints" class="btn btn-primary">Task Points</button>
        <button data-tab="totalLevel" class="btn btn-primary">Total Level</button>
        <button data-tab="totalHourly" class="btn btn-primary">Total Hourly</button>
        <button data-tab="activity" class="btn btn-primary">Activity</button>

    </nav>
    <div id="content">
        <h1>Very much still in progress</h1>
        <p>The upcoming IronCow update changes how the leaderboards work.</p>
        <p>This will break my current setup, and I'm not sure how soon after the update that I'll get it working again. Current plan is to update the site to allow selecting time ranges, possibly other historical data, and simplify all the tabs.</p>
        <p>Not sure how it'll work, but after its working again I'll post in discord.</p>

        <h5>Last Updated</h5>
        <p style="display: none;">Start: <span id="startTime"></span></p>
        <span id="endTime"></span>, <span id="timeAgo"></span> ago
        <p>Average measured over: ~<span id="timeDifference"></span> hours</p>

        <h4><u>FYI</u></h4>
        <ul>
            <li>Times should be in your local time</li>
            <li>When sorting on level, players of the same level should be sorted by actual xp</li>
            <li>Catchup logic is very simple, use it as an estimate only (Same for level up time)</li>
            <li>Total Hourly is based on the higher of known LB skills, or Total Level xp gained</li>
            <li>Players new to the LB will show hourly xp as 0</li>
            <li>You can re-order columns, but they won't be saved on refresh</li>
        </ul>

        <h4><u>Limitations</u></h4>
        <ul>
            <li>Level Up/Overtake times are estimates only</li>
            <li>Only tracks players on the leaderboards</li>
            <li>Hourly xp only shown if you were on the LB for both start and stop data points</li>
            <li>Updated manually for now (I try to do it daily)</li>
        </ul>

        <h4><u>Known Issues</u></h4>
        <ul>
            <li>No special handling for player name-changes. Will show as 0 xp earned instead.</li>
            <li>Column re-ordering breaks Position number. Re-sort on a column to fix until I resolve this</li>
        </ul>

        <h4><u>#TODO</u></h4>
        <ul>
            <li>Automate data collection - Will need to rewrite how things get processed so I'm avoiding this for now</li>
            <li>Add some sort of range filter - View average over 6/12/24 hours or such. Requires above first.</li>
            <li>Add position to xp columns (easier comparison between LB positions)</li>
            <li>Setup guild tags? - Difficult without deeper data fetching</li>
            <li>Add tag to indicate if a player is new to the LB?</li>
            <li>Add list of names for people who dropped off the LB?</li>
            <li>Probably simplify to one page, current setup seems overly complicated</li>
        </ul>

    </div>
</body>
</html>
